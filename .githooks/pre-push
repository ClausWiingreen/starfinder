#!/bin/bash

echo "ğŸ” Running pre-push checks..."

if git stash --keep-index; then
  trap "git stash pop" EXIT
fi

function fail() {
  echo -e "${RED}âŒ $1${NC}"
  exit 1
}

echo "ğŸ”§ Running tests..."
./mvnw verify
if [ $? -ne 0 ]; then
  fail "There were test failures."
fi

echo "âœ… All pre-push checks passed."
